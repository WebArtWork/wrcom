{"version":3,"file":"index.modern.js","sources":["../src/user_service.jsx","../src/http.service.jsx","../src/index.js"],"sourcesContent":["import React from 'react'\r\n\r\nexport const User=()=>{\r\n\tconst us = {\r\n\t\tis: {},\r\n\t\tdata: {},\r\n\t\tusers: [],\r\n\t\tupdate: ()=>{\r\n\t\t\twindow.http.post('/api/user/update', {\r\n\t\t\t\tname: us.name,\r\n\t\t\t\tdata: us.data\r\n\t\t\t}, (resp)=>{});\r\n\t\t},\r\n\t\tchange_password: (oldPass, newPass)=>{\r\n\t\t\twindow.http.post('/api/user/changePassword', {\r\n\t\t\t\tnewPass: newPass,\r\n\t\t\t\toldPass: oldPass\r\n\t\t\t}, resp => {\r\n\t\t\t\tif(resp) alert('successfully changed password');\r\n\t\t\t\telse alert('failed to change password');\r\n\t\t\t});\r\n\t\t},\r\n\t\tlogout: ()=>{\r\n\t\t\twindow.http.get('/api/user/logout');\r\n\t\t\tlocalStorage.removeItem('waw_user');\r\n\t\t\twindow.render.call('logout');\r\n\t\t},\r\n\t\tcreate: (user)=>{\r\n\t\t\twindow.http.post('/api/user/create', {email: user} ,(resp)=>{})\r\n\t\t},\r\n\t\tsave: (user)=>{},\r\n\t\tdelete: (id)=>{\r\n\t\t\tfor (var i = us.users.length - 1; i >= 0; i--) {\r\n\t\t\t\tif(us.users[i]._id == id){\r\n\t\t\t\t\tus.users.splice(i, 1);\r\n\t\t\t\t}\r\n\t\t\t}\t\r\n\t\t\twindow.http.post('/api/user/deleteadmin',  {_id: id}, (resp)=>{\r\n\t\t\t\twindow.render.call('user list');\r\n\t\t\t});\r\n\t\t},\r\n\t\tset: user=>{\r\n\t\t\tfor(let each in user){\r\n\t\t\t\tus[each] = user[each];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\twindow.us = us;\r\n\tif(localStorage.getItem(\"waw_user\")){\r\n\t\tus.set(JSON.parse(localStorage.getItem(\"waw_user\")));\r\n\t\twindow.http.get('/api/user/me', us.set);\r\n\t}\r\n\twindow.http.get('/api/user/get', users=>{\r\n\t\tus.users = users;\r\n\t\tus._users = {};\r\n\t\tfor (var i = users.length - 1; i >= 0; i--) {\r\n\t\t\tus._users[users[i]._id] = users[i];\r\n\t\t}\r\n\t\twindow.render.call('user list');\r\n\t\t//window.render.call('sing up');\r\n\t//\tconsole.log(us);\r\n\t});\r\n\treturn null\r\n}","export const HTTP =()=>{\r\n\twindow.http ={ \r\n\t\t\tpost: (url, doc, callback=(resp:any) => {}, opts:any={})=>{\r\n\t\t\t\tfetch(url, {\r\n\t\t\t\t\tmethod: 'POST',\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t'Content-Type': 'application/json'\r\n\t\t\t\t\t},\r\n\t\t\t\t\tbody: JSON.stringify(doc)\r\n\t\t\t\t}).then((resp)=>{\r\n\t\t\t\t\treturn resp.json();\r\n\t\t\t\t}).then(callback);\r\n\t\t\t},\r\n\t\t\tget: (url, callback=(resp:any) => {}, opts:any={})=>{\r\n\t\t\t\tfetch(url, {\r\n\t\t\t\t\tmethod: 'GET'\r\n\t\t\t\t}).then((resp)=>{\r\n\t\t\t\t\treturn resp.json();\r\n\t\t\t\t}).then(callback);\r\n\t\t\t}\r\n\t}\r\n\treturn null\r\n}","import React from 'react'\nimport styles from './styles.module.css'\nimport {User} from './user_service'\nimport {HTTP} from './http.service'\n\n// export const ExampleComponent = ({ text }) => {\n//   return <div className={styles.test}>Example Component: {text}</div>\n// }\n\nexport const UserList =()=>{\n\treturn <User />\n}\n\nexport const ExampleComponent =()=>{\n\treturn <HTTP/>\n}\n"],"names":["User","us","is","data","users","update","window","http","post","name","resp","change_password","oldPass","newPass","alert","logout","get","localStorage","removeItem","render","call","create","user","email","save","delete","id","i","length","_id","splice","set","each","getItem","JSON","parse","_users","HTTP","url","doc","callback","opts","fetch","method","headers","body","stringify","then","json","UserList","ExampleComponent"],"mappings":"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"}